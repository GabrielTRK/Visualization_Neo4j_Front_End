<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <script src="index.js" defer></script>
    <script> 
        $(function(){
          $("#header").load("Utils/nav.html");
        });
        $(function(){
          $("#footer").load("Utils/footer.html");
        });
    </script>
    <style type="text/css">
        
        html{
          font-family: Helvetica;
        }
        .PageTitle{
          padding: 1rem 1rem;
        }
        .TitleChild{
          display: inline-block;
        }
        #Load{
          float: right;
        }
        #MainCard{
          width: 60%;
          margin:0 auto
        }
        #StartDateDiv{
          display: inline-block;
          margin-left: 20%;
        }
        #EndDateDiv{
          float: right;
          margin-right: 20%;
        }
        #Save{
          padding: 1rem 1rem;
          display: inline-block;
        }
        #Execute{
          padding: 1rem 1rem;
          float: right;
        }
        .DDContainer{
          width: 100px;
          height: 150px;
          margin-left: 35%;
        }
        #div1a, #div2a, #div3a, #div4a, #div5a, #div6a, #div7a, #div1b, #div2b, #div3b, #div4b, #div5b, #div6b, #div7b {
          float: left;
          width: 100px;
          height: 40px;
          padding: 10px;
          border: 1px solid rgb(90, 89, 89);
          border-radius: 6px;
        }
        /* Create three unequal columns that floats next to each other */
        .column {
          float: left;
          padding: 10px;
        }

        .left, .right {
          width: 37.5%;
        }

        .middle {
          width: 25%;
        }

        /* Clear floats after the columns */
        .row:after {
          content: "";
          display: table;
          clear: both;
        }


        #NumP{
          margin-left: 5%;
          display: inline-block;
        }
        #NumPHelp{
          margin-left: 5%;
          display: inline-block;
        }
        #IneW{
          margin-left: 10%;
        }
        #IneWHelp{
          margin-left: 6.5%;
        }
        #c1{
          margin-left: 3.7%;
        }
        #c1Help{
          margin-left: 7.4%;
        }
        #c2{
          margin-left: 6.8%;
        }
        #c2Help{
          margin-left: 7.2%;
        }
        #NumPTooltipText, #IneWTooltipText, #c1TooltipText, #c2TooltipText {
          visibility: hidden;
          width: 50%;
          background-color: black;
          color: #fff;
          text-align: center;
          border-radius: 6px;
          padding: 5px 0;
          display: inline-block;
          /* Position the tooltip */
        }

    </style>
</head>
<body>
    
    <div id="header"></div>
    <div class="card" id="MainCard">
        <div class="PageTitle">
            <h1 class="TitleChild">Problem description</h1>
            <div class="TitleChild" id="Load">
                <button type="button" class="btn btn-primary">Load saved problem</button>
            </div>
        </div>

        <div id="accordion1">
            
            <div class="card">
              <div class="card-header" id="headingTwo">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                    Dates
                  </button>
                </h5>
              </div>
              <div id="collapseTwo" class="collapse show" aria-labelledby="headingTwo" data-parent="#accordion1">
                <div class="card-body" id="DatesDiv">
                    <div id="StartDateDiv">
                        <label for="start">Start date:</label>
                        <input type="date" id="start" name="start_date" value="2020-01-01" min="2020-01-01" max="2021-01-01" />
                    </div>
                    <div id="EndDateDiv">
                        <label for="end">End date:</label>
                        <input type="date" id="end" name="end_date" value="2020-01-01" min="2020-01-01" max="2021-01-01" />
                    </div>
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-header" id="headingThree">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                    Problem Restriction
                  </button>
                </h5>
              </div>
              <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordion0">
                <div class="card-body">
                  <div style="display: flex; justify-content: center;">
                    <p>Minimum percentage of Imported Risk reduction during optimization</p><br>
                  </div>
                  <div style="display: flex; justify-content: center;">
                    <input type="range" value="50" min="0" max="100" oninput="this.nextElementSibling.value = this.value + '%'">
                    <output>50%</output>
                  </div>
                </div>
              </div>
            </div>

            <div class="card">
              <div class="card-header" id="headingFour">
                <h5 class="mb-0">
                  <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                    Quantification of decision maker's preferences
                  </button>
                </h5>
              </div>
              <div id="collapseFour" class="collapse" aria-labelledby="headingFour" data-parent="#accordion2">
                <div class="card-body">
                    <!--<label for="Weight1">Economic Weight</label>
                    <input type="text" id="Weight1" name="Weight1"><br><br>

                    <label for="Weight2">Social Weight</label>
                    <input type="text" id="Weight2" name="Weight2"><br><br>-->

                    <!--<div class="DDContainer">
                      <div id="div1a" ondrop="drop(event)" ondragover="allowDrop(event)">
                        <img src="Utils/UPMLogo.png" draggable="true" ondragstart="drag(event)" id="drag1" width="88" height="31">
                      </div>
                      <div id="div1b" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                    </div>
                    
                    <div class="DDContainer">
                      <div id="div2a" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                      <div id="div2b" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                    </div>

                    <div class="DDContainer">
                      <div id="div3a" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                      <div id="div3b" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                    </div>

                    <div class="DDContainer">
                      <div id="div4a" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                      <div id="div4b" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                    </div>

                    <div class="DDContainer">
                      <div id="div5a" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                      <div id="div5b" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                    </div>

                    <div class="DDContainer">
                      <div id="div6a" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                      <div id="div6b" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                    </div>

                    <div class="DDContainer">
                      <div id="div7a" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                      <div id="div7b" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                    </div>-->

                    <div class="row">
                      <div class="column left" >
                        <h3 style="display: flex; justify-content: center;">Economic criteria</h3><br>

                      <div class="DDContainer">
                        <div id="div1a" ondrop="drop(event)" ondragover="allowDrop(event)">
                          <img src="Utils/UPMLogo.png" draggable="true" ondragstart="drag(event)" id="drag1" width="88" height="31">
                        </div>
                        <div id="div2a" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                        <div id="div3a" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                        <div id="div4a" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                        <div id="div5a" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                      </div><br><br><br>
                      <h3 style="display: flex; justify-content: center;">Social criteria</h3><br>
                      <div class="DDContainer">
                        <div id="div6a" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                        <div id="div7a" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                      </div>
                      
                      </div>
                      <div class="column middle">
                        <div style="opacity: 0.5; display: flex; justify-content: center; margin-top: 100px;">
                          <svg xmlns="http://www.w3.org/2000/svg" width="80" height="80" fill="currentColor" class="bi bi-arrow-right-square" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm4.5 5.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5z"/>
                          </svg>
                        </div>

                        <div>
                          <p style="display: flex; justify-content: center; margin-top: 50px; color: #989898;">Drag and drop the criteria on the left to create a ranking on the right column according to the decision maker's preferences. The criteria on the higher cells will be prioritized more than the ones on the lower cells during optimization.</p>
                        </div>
                      </div>
                      <div class="column right">
                        <h3 style="display: flex; justify-content: center;">Criteria ranking</h3><br>
                        
                        
                        <div class="DDContainer">
                          <div style="display: flex; justify-content: center; margin-bottom: 8px;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-plus" viewBox="0 0 16 16">
                              <path d="M8.5 6a.5.5 0 0 0-1 0v1.5H6a.5.5 0 0 0 0 1h1.5V10a.5.5 0 0 0 1 0V8.5H10a.5.5 0 0 0 0-1H8.5z"/>
                              <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1"/>
                            </svg>
                          </div>

                          <div id="div1b" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                          <div id="div2b" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                          <div id="div3b" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                          <div id="div4b" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                          <div id="div5b" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                          <div id="div6b" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                          <div id="div7b" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
                          <div style="margin-left: 40%; margin-top: 10%;">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-file-minus" viewBox="0 0 16 16">
                              <path d="M5.5 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H6a.5.5 0 0 1-.5-.5"/>
                              <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1"/>
                            </svg>
                          </div>
                        </div>
                      </div>
                    </div>


                </div>
              </div>
            </div>

            <div class="card">
                <div class="card-header" id="headingFive">
                  <h5 class="mb-0">
                    <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                      Advanced options
                    </button>
                  </h5>
                </div>
                <div id="collapseFive" class="collapse" aria-labelledby="headingFive" data-parent="#accordion3">
                    <div class="card-body">
                      <!--<select name="Alg" id="Alg" onChange="selectChange(this)">
                        <option value="BPSO" selected="true">Binary PSO</option>
                      </select>-->
                      <h3>Metaheuristic parameters</h3>
                      <div>
                        <label for="NumP">Number of particles</label>
                        <input type="text" id="NumP" name="NumP" value="1000" size="4">
                          <svg id="NumPHelp" onmouseover="NumPshowHelp()" onmouseout="NumPhideHelp()" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-question-circle-fill" viewBox="0 0 16 16">
                            <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247m2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z"/>
                          </svg>
                          <p id="NumPTooltipText">Number of particles to use in the Binary Particle Swarm Optimization algorithm</p>
                      </div><br>
                      
                      <div>
                        <label for="IneW">Inertia weight</label>
                        <input type="text" id="IneW" name="IneW" value="0.9" size="2">
                        <svg id="IneWHelp" onmouseover="IneWshowHelp()" onmouseout="IneWhideHelp()" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-question-circle-fill" viewBox="0 0 16 16">
                          <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247m2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z"/>
                        </svg>
                        <p id="IneWTooltipText">Defines how fast the particles move through the search space</p>
                      </div><br>
                      
                      <div>
                        <label for="c1">Cognitive component</label>
                        <input type="text" id="c1" name="c1" value="2" size="1">
                        <svg id="c1Help" onmouseover="c1showHelp()" onmouseout="c1hideHelp()" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-question-circle-fill" viewBox="0 0 16 16">
                          <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247m2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z"/>
                        </svg>
                        <p id="c1TooltipText">Defines how much importance should particle's personal bests have over the global best</p>
                      </div><br>

                      <div>
                        <label for="c2">Social component</label>
                        <input type="text" id="c2" name="c2" value="2" size="1">
                        <svg id="c2Help" onmouseover="c2showHelp()" onmouseout="c2hideHelp()" xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-question-circle-fill" viewBox="0 0 16 16">
                          <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247m2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z"/>
                        </svg>
                        <p id="c2TooltipText">Defines how much importance should the global best have over the personal bests of the particles</p>
                      </div><br>
                      
                    </div>
                </div>
            </div>

        </div>
        <div class="BottomButtons">
          <div id="Save">
            <button type="button" class="btn btn-primary" onclick="saveConf()">Save definition</button>
          </div>
          <div id="Execute">
            <button type="button" class="btn btn-primary" onclick="algoritmo()">Run optimization</button>
          </div>
        </div>
    </div>

    <div id="footer"></div>
</body>
</html>